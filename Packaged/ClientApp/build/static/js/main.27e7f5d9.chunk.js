(this.webpackJsonpPublicationActivity=this.webpackJsonpPublicationActivity||[]).push([[0],{113:function(e){e.exports=JSON.parse('{"ui":{"administration":"Administration","myPublications":"My Publications","myPublicationsShort":"My collection","searchPublications":"Search Publications","searchPublicationsShort":"Search","createPublication":"Create Publication","createPublicationShort":"Create","importPublications":"Import Publications","importPublicationsShort":"Import","previewUsers":"Preview Users","previewUsersShort":"Preview","registerUsers":"Register Users","registerUsersShort":"Register","selectFile":"Choose file","importSuccess":"Import completed successfully.","importButton":"Import","addPublicationButton":"Add","addPublicationSuccess":"Publication was added successfully.","chooseOption":"Choose an option","showFilters":"Show filters","hideFilters":"Hide filters","search":"Search","registerUser":"Register","userRegisteredSuccessfully":"The user was registered successfully.","resetUserPassword":"Reset Password","passwordResetSuccessfully":"Password was reset successfully.","yes":"Yes","no":"No","textCopied":"Copied!","greetingUser":"Hello {0}","login":"Login","logout":"Logout","export":"Export","publicationExportSuccess":"The publications were exported successfully.","loggingIn":"Logging in...","loggingOut":"Logging out...","loggedOut":"You successfully logged out!"},"user":{"fields":{"username":"Username","email":"Email","role":"Role"}},"publication":{"createFields":{"publicationType":"Type","originalTitle":"Original Title","yearPublished":"Year Published","publisherData":"Publisher Data","identifier":"ISBN/ISSN/DOI","primaryReferenceLocation":"Referenced in Web of Science and/or Scopus","secondaryReferenceLocation":"Referenced in OTHERS (for 4.6) in accordance with the rules","tertiaryReferenceLocation":"Referenced in OTHERS by the list of \u041d\u0410\u0426\u0418\u0414","authorsAndCoAuthors":"Co-authors without titles (all co-authors, ordered as in the publication, including yourself)","studentsAndDoctorants":"Names of students or doctorants among the co-authors","isiImpactFactor":"ISI impact factor","sjrScopusImpactRank":"SJR SCOPUS IMPACT RANK","publicationLanguageCode":"Language of the publication","publicationLink":"Link to online publication"},"fields":{"publicationType":"Type","originalTitle":"Original Title","yearPublished":"Year Published","publisherData":"Publisher Data","identifier":"ISBN/ISSN/DOI","primaryReferenceLocation":"Referenced in Web of Science and/or Scopus","secondaryReferenceLocation":"Referenced in OTHERS (for 4.6) in accordance with the rules","tertiaryReferenceLocation":"Referenced in OTHERS by the list of \u041d\u0410\u0426\u0418\u0414","authorsAndCoAuthors":"Co-authors without titles","studentsAndDoctorants":"Students or doctorants","isiImpactFactor":"ISI impact factor","sjrScopusImpactRank":"SJR SCOPUS IMPACT RANK","publicationLanguageCode":"Language of the publication","publicationLink":"Link to online publication","bibliographyDescription":"Bibliography description"},"validation":{"typeNotSupported":"The type \'{0}\' is currently not supported.","yearPublishedInvalidRange":"The field \'{0}\' should be between 1970 and {1}","invalidNamesFormatting":"The names in \'{0}\' are incorrectly formatted.","alreadyExists":"A publication with this title already exists and will be overwritten."},"modal":{"alreadyExists":"A publication with this title already exists and will be overwritten if you proceed. Would you like to proceed?","alreadyExistsImport":"The data that is going to be imported contains publications with titles which already exists and will be overwritten if you proceed. Would you like to proceed?"}},"validation":{"required":"The field \'{0}\' is required.","invalidEmail":"The provided email address is not valid.","invalidUsername":"The field \'{0}\' should contain latic letters and numbers without spaces."},"ExceptionType":{"Unknown":"An unknown error occurred.","ValidationFailed":"A validation error occured.","UserWithEmailAlreadyExists":"An user with the specified email already exists.","UserCreationFailure":"An error occured while creating the user.","RoleNotFound":"The specified role was not found.","UnsupportedPublicationType":"This publication type is currently unsupported."}}')},114:function(e){e.exports=JSON.parse('{"ui":{"administration":"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","myPublications":"\u041c\u043e\u0438\u0442\u0435 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438","myPublicationsShort":"\u041c\u043e\u0438\u0442\u0435","searchPublications":"\u0422\u044a\u0440\u0441\u0435\u043d\u0435 \u043d\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438","searchPublicationsShort":"\u0422\u044a\u0440\u0441\u0435\u043d\u0435","createPublication":"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f","createPublicationShort":"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435","importPublications":"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438","importPublicationsShort":"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u0435","previewUsers":"\u041f\u0440\u0435\u0433\u043b\u0435\u0434 \u043d\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0438","previewUsersShort":"\u041f\u0440\u0435\u0433\u043b\u0435\u0434","registerUsers":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0438","registerUsersShort":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","selectFile":"\u0418\u0437\u0431\u0435\u0440\u0438 \u0444\u0430\u0439\u043b","importSuccess":"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u0435\u0442\u043e \u0437\u0430\u0432\u044a\u0440\u0448\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e.","importButton":"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u0435","addPublicationButton":"\u0414\u043e\u0431\u0430\u0432\u0438","addPublicationSuccess":"\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f\u0442\u0430 \u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e.","chooseOption":"\u0418\u0437\u0431\u0435\u0440\u0438 \u043e\u043f\u0446\u0438\u044f","showFilters":"\u041f\u043e\u043a\u0430\u0436\u0438 \u0444\u0438\u043b\u0442\u0440\u0430\u0446\u0438\u044f","hideFilters":"\u0421\u043a\u0440\u0438\u0439 \u0444\u0438\u043b\u0442\u0440\u0430\u0446\u0438\u044f","search":"\u0422\u044a\u0440\u0441\u0438","registerUser":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0439","userRegisteredSuccessfully":"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f\u0442 \u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e.","resetUserPassword":"\u0420\u0435\u0441\u0442\u0430\u0440\u0442\u0438\u0440\u0430\u0439 \u043f\u0430\u0440\u043e\u043b\u0430","passwordResetSuccessfully":"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0431\u0435\u0448\u0435 \u0440\u0435\u0441\u0442\u0430\u0440\u0442\u0438\u0440\u0430\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e.","yes":"\u0414\u0430","no":"\u041d\u0435","textCopied":"\u041a\u043e\u043f\u0438\u0440\u0430\u043d\u043e!","greetingUser":"\u0417\u0434\u0440\u0430\u0432\u0435\u0439\u0442\u0435, {0}","login":"\u0412\u0445\u043e\u0434","logout":"\u0418\u0437\u0445\u043e\u0434","export":"\u0415\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u0435","publicationExportSuccess":"\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438\u0442\u0435 \u0441\u0430 \u0435\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e.","loggingIn":"\u0412\u043f\u0438\u0441\u0432\u0430\u043d\u0435...","loggingOut":"\u041e\u0442\u043f\u0438\u0441\u0432\u0430\u043d\u0435...","loggedOut":"\u0412\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043b\u044f\u0437\u043e\u0445\u0442\u0435 \u043e\u0442 \u043f\u0440\u043e\u0444\u0438\u043b\u0430 \u0441\u0438!"},"user":{"fields":{"username":"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435","email":"\u0418\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441","role":"\u0420\u043e\u043b\u044f"}},"publication":{"createFields":{"publicationType":"\u0412\u0438\u0434 \u043d\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f\u0442\u0430","originalTitle":"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u043d\u043e \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435","yearPublished":"\u0413\u043e\u0434\u0438\u043d\u0430 \u043d\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435","publisherData":"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u0441\u043a\u0438 \u0434\u0430\u043d\u043d\u0438","identifier":"ISBN/ISSN/DOI","primaryReferenceLocation":"\u0420\u0435\u0444\u0435\u0440\u0438\u0440\u0430\u043d\u0430 \u0432 Web of Science \u0438/\u0438\u043b\u0438 Scopus","secondaryReferenceLocation":"\u0420\u0435\u0444\u0435\u0440\u0438\u0440\u0430\u043d\u0430 \u0432 \u0414\u0420\u0423\u0413\u0418 (\u0437\u0430 4.6) \u0441\u044a\u0433\u0430\u043b\u0441\u043d\u043e \u043d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430","tertiaryReferenceLocation":"\u0420\u0435\u0444\u0435\u0440\u0438\u0440\u0430\u043d\u0430 \u0432 \u0414\u0420\u0423\u0413\u0418 \u043f\u043e \u0441\u043f\u0438\u0441\u044a\u043a\u0430 \u043d\u0430 \u041d\u0410\u0426\u0418\u0414","authorsAndCoAuthors":"\u0421\u044a\u0430\u0432\u0442\u043e\u0440\u0438 \u0431\u0435\u0437 \u0442\u0438\u0442\u043b\u0438 (\u0432\u0441\u0438\u0447\u043a\u0438, \u043a\u0430\u043a\u0442\u043e \u0441\u0430 \u043f\u043e\u0434\u0440\u0435\u0434\u0435\u043d\u0438 \u0432 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f\u0442\u0430, \u0432\u043a\u043b. \u0412\u0418\u0415)","studentsAndDoctorants":"\u0418\u043c\u0435\u043d\u0430 \u043d\u0430 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0438 \u0438 \u0434\u043e\u043a\u0442\u043e\u0440\u0430\u043d\u0442\u0438 \u0438\u0437\u043c\u0435\u0436\u0434\u0443 \u0441\u044a\u0430\u0432\u0442\u043e\u0440\u0438\u0442\u0435","isiImpactFactor":"ISI \u0438\u043c\u043f\u0430\u043a\u0442 \u0444\u0430\u043a\u0442\u043e\u0440","sjrScopusImpactRank":"SJR SCOPUS \u0418\u041c\u041f\u0410\u041a\u0422 \u0420\u0410\u041d\u0413","publicationLanguageCode":"\u0415\u0437\u0438\u043a \u043d\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f\u0442\u0430","publicationLink":"\u0412\u0440\u044a\u0437\u043a\u0430(\u043b\u0438\u043d\u043a) \u043a\u044a\u043c \u043e\u043d\u043b\u0430\u0439\u043d \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f\u0442\u0430"},"fields":{"publicationType":"\u0412\u0438\u0434 \u043d\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f\u0442\u0430","originalTitle":"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u043d\u043e \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435","yearPublished":"\u0413\u043e\u0434\u0438\u043d\u0430 \u043d\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435","publisherData":"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u0441\u043a\u0438 \u0434\u0430\u043d\u043d\u0438","identifier":"ISBN/ISSN/DOI","primaryReferenceLocation":"\u0420\u0435\u0444\u0435\u0440\u0438\u0440\u0430\u043d\u0430 \u0432 Web of Science \u0438/\u0438\u043b\u0438 Scopus","secondaryReferenceLocation":"\u0420\u0435\u0444\u0435\u0440\u0438\u0440\u0430\u043d\u0430 \u0432 \u0414\u0420\u0423\u0413\u0418 (\u0437\u0430 4.6) \u0441\u044a\u0433\u0430\u043b\u0441\u043d\u043e \u043d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430","tertiaryReferenceLocation":"\u0420\u0435\u0444\u0435\u0440\u0438\u0440\u0430\u043d\u0430 \u0432 \u0414\u0420\u0423\u0413\u0418 \u043f\u043e \u0441\u043f\u0438\u0441\u044a\u043a\u0430 \u043d\u0430 \u041d\u0410\u0426\u0418\u0414","authorsAndCoAuthors":"\u0421\u044a\u0430\u0432\u0442\u043e\u0440\u0438 \u0431\u0435\u0437 \u0442\u0438\u0442\u043b\u0438","studentsAndDoctorants":"\u0418\u043c\u0435\u043d\u0430 \u043d\u0430 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0438 \u0438 \u0434\u043e\u043a\u0442\u043e\u0440\u0430\u043d\u0442\u0438","isiImpactFactor":"ISI \u0438\u043c\u043f\u0430\u043a\u0442 \u0444\u0430\u043a\u0442\u043e\u0440","sjrScopusImpactRank":"SJR SCOPUS \u0418\u041c\u041f\u0410\u041a\u0422 \u0420\u0410\u041d\u0413","publicationLanguageCode":"\u0415\u0437\u0438\u043a \u043d\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f\u0442\u0430","publicationLink":"\u0412\u0440\u044a\u0437\u043a\u0430 \u043a\u044a\u043c \u043e\u043d\u043b\u0430\u0439\u043d \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f\u0442\u0430","bibliographyDescription":"\u0411\u0438\u0431\u043b\u0438\u043e\u0433\u0440\u0430\u0444\u0441\u043a\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},"validation":{"typeNotSupported":"\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u043e\u0442 \u0442\u0438\u043f \'{0}\' \u043d\u0435 \u0441\u0435 \u043f\u043e\u0434\u0434\u044a\u0440\u0436\u0430\u0442 \u0437\u0430 \u043c\u043e\u043c\u0435\u043d\u0442\u0430.","yearPublishedInvalidRange":"\u041f\u043e\u043b\u0435\u0442\u043e \'{0}\' \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0438\u043c\u0430 \u0441\u0442\u043e\u0439\u043d\u043e\u0441\u0442 \u043c\u0435\u0436\u0434\u0443 1970 \u0438 {1}","invalidNamesFormatting":"\u0418\u043c\u0435\u043d\u0430\u0442\u0430 \u0432 \u043f\u043e\u043b\u0435\u0442\u043e \'{0}\' \u043d\u0435 \u0441\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u0430\u043d\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u043d\u043e.","publicationLanguageInvalidLength":"\u041f\u043e\u043b\u0435\u0442\u043e \'{0}\' \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0438\u043c\u0430 \u0434\u044a\u043b\u0436\u0438\u043d\u0430 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430.","alreadyExists":"\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u0441 \u0442\u0430\u043a\u043e\u0432\u0430 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435 \u0432\u0435\u0447\u0435 \u0441\u044a\u0449\u0435\u0441\u0442\u0432\u0443\u0432\u0430 \u0438 \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u043d\u0430."},"modal":{"alreadyExists":"\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u0441 \u0442\u0430\u043a\u043e\u0432\u0430 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435 \u0432\u0435\u0447\u0435 \u0441\u044a\u0449\u0435\u0441\u0442\u0432\u0443\u0432\u0430 \u0438 \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u0430\u043a\u043e \u043f\u0440\u043e\u0434\u044a\u043b\u0436\u0438\u0442\u0435. \u0416\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043f\u0440\u043e\u0434\u044a\u043b\u0436\u0438\u0442\u0435?","alreadyExistsImport":"\u0414\u0430\u043d\u043d\u0438\u0442\u0435, \u043a\u043e\u0438\u0442\u043e \u0449\u0435 \u0431\u044a\u0434\u0430\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u0438 \u0441\u044a\u0434\u044a\u0440\u0436\u0430\u0442 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0441\u044a\u0441 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u044f, \u043a\u043e\u0438\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u044a\u0449\u0435\u0441\u0442\u0432\u0443\u0432\u0430\u0442 \u0438 \u0449\u0435 \u0431\u044a\u0434\u0430\u0442 \u043f\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u043d\u0438 \u0430\u043a\u043e \u043f\u0440\u043e\u0434\u044a\u043b\u0436\u0438\u0442\u0435. \u0416\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043f\u0440\u043e\u0434\u044a\u043b\u0436\u0438\u0442\u0435?"}},"validation":{"required":"\u041f\u043e\u043b\u0435\u0442\u043e \'{0}\' \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e.","invalidEmail":"\u0418\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441\u044a\u0442 \u0435 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d.","invalidUsername":"\u041f\u043e\u043b\u0435\u0442\u043e \'{0}\' \u043c\u043e\u0436\u0435 \u0434\u0430 \u0441\u044a\u0434\u044a\u0440\u0436\u0430 \u0441\u0430\u043c\u043e \u0431\u0443\u043a\u0432\u0438 \u043d\u0430 \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0430 \u0438 \u0446\u0438\u0444\u0440\u0438."},"ExceptionType":{"Unknown":"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430.","ValidationFailed":"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u044f\u0432\u043a\u0430\u0442\u0430.","UserWithEmailAlreadyExists":"\u0412\u0435\u0447\u0435 \u0441\u044a\u0449\u0435\u0441\u0442\u0432\u0443\u0432\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b \u0441 \u0442\u0430\u043a\u044a\u0432 \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441.","UserCreationFailure":"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f.","RoleNotFound":"\u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d\u0430\u0442\u0430 \u0440\u043e\u043b\u044f \u043d\u0435 \u0441\u044a\u0449\u0435\u0441\u0442\u0432\u0443\u0432\u0430.","UnsupportedPublicationType":"\u0422\u043e\u0437\u0438 \u0442\u0438\u043f \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0435 \u0441\u0435 \u043f\u043e\u0434\u0434\u044a\u0440\u0436\u0430 \u0437\u0430 \u043c\u043e\u043c\u0435\u043d\u0442\u0430."}}')},118:function(e,t,n){e.exports=n(248)},135:function(e,t,n){},156:function(e,t,n){},159:function(e,t,n){},164:function(e,t){},165:function(e,t){},244:function(e,t,n){},246:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);n(119);var a=n(0),r=n.n(a),i=n(38),c=n.n(i),s=n(30),o=n(12),u=n(13),l=n(24),p=n(25),d=n(16),f=n(3),m=n.n(f),b=n(5),h=n(9),g=n(255),v=n(256),y=n(257),x=n(258),w=n(252),k=n(253),E=n(276),O=n(277),j=n(278),S=n(259),P=n(69),C="returnUrl",R="message",A="logout-callback",T="logout",U="logged-out",L="login",I="login-callback",N="login-failed",D="profile",F="register",_="/authentication",M={DefaultLoginRedirectPath:"/",ApiAuthorizationClientConfigurationUrl:"/_configuration/".concat("PublicationActivity"),ApiAuthorizationPrefix:_,Login:"".concat(_,"/").concat(L),LoginFailed:"".concat(_,"/").concat(N),LoginCallback:"".concat(_,"/").concat(I),Register:"".concat(_,"/").concat(F),Profile:"".concat(_,"/").concat(D),LogOut:"".concat(_,"/").concat(T),LoggedOut:"".concat(_,"/").concat(U),LogOutCallback:"".concat(_,"/").concat(A),IdentityRegisterPath:"/Identity/Account/Register",IdentityManagePath:"/Identity/Account/Manage"},V=new(function(){function e(){Object(o.a)(this,e),this._callbacks=[],this._nextSubscriptionId=0,this._user=null,this._isAuthenticated=!1,this._popUpDisabled=!0}return Object(u.a)(e,[{key:"isAuthenticated",value:function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser();case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hasRole",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Array.isArray(t)?t:[t],!this._user||!this._user.role){e.next=3;break}return e.abrupt("return",n.includes(this._user.role));case 3:return e.next=5,this.getUser();case 5:if(!(a=e.sent)||!a.role){e.next=8;break}return e.abrupt("return",n.includes(a.role));case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._user||!this._user.profile){e.next=2;break}return e.abrupt("return",this._user.profile);case 2:return e.next=4,this.ensureUserManagerInitialized();case 4:return e.next=6,this.userManager.getUser();case 6:return t=e.sent,e.abrupt("return",t&&t.profile);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.next=4,this.userManager.getUser();case 4:return t=e.sent,e.abrupt("return",t&&t.access_token);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.prev=2,e.next=5,this.userManager.signinSilent(this.createArguments());case 5:return n=e.sent,this.updateState(n),e.abrupt("return",this.success(t));case 10:if(e.prev=10,e.t0=e.catch(2),console.log("Silent authentication error: ",e.t0),e.prev=13,!this._popUpDisabled){e.next=16;break}throw new Error("Popup disabled. Change 'AuthorizeService.js:AuthorizeService._popupDisabled' to false to enable it.");case 16:return e.next=18,this.userManager.signinPopup(this.createArguments());case 18:return a=e.sent,this.updateState(a),e.abrupt("return",this.success(t));case 23:if(e.prev=23,e.t1=e.catch(13),"Popup window closed"!==e.t1.message){e.next=29;break}return e.abrupt("return",this.error("The user closed the window."));case 29:this._popUpDisabled||console.log("Popup authentication error: ",e.t1);case 30:return e.prev=30,e.next=33,this.userManager.signinRedirect(this.createArguments(t));case 33:return e.abrupt("return",this.redirect());case 36:return e.prev=36,e.t2=e.catch(30),console.log("Redirect authentication error: ",e.t2),e.abrupt("return",this.error(e.t2));case 40:case"end":return e.stop()}}),e,this,[[2,10],[13,23],[30,36]])})));return function(t){return e.apply(this,arguments)}}()},{key:"completeSignIn",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.ensureUserManagerInitialized();case 3:return e.next=5,this.userManager.signinCallback(t);case 5:return n=e.sent,this.updateState(n),e.abrupt("return",this.success(n&&n.state));case 10:return e.prev=10,e.t0=e.catch(0),console.log("There was an error signing in: ",e.t0),e.abrupt("return",this.error("There was an error signing in."));case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:if(e.prev=2,!this._popUpDisabled){e.next=5;break}throw new Error("Popup disabled. Change 'AuthorizeService.js:AuthorizeService._popupDisabled' to false to enable it.");case 5:return e.next=7,this.userManager.signoutPopup(this.createArguments());case 7:return this.updateState(void 0),e.abrupt("return",this.success(t));case 11:return e.prev=11,e.t0=e.catch(2),console.log("Popup signout error: ",e.t0),e.prev=14,e.next=17,this.userManager.signoutRedirect(this.createArguments(t));case 17:return e.abrupt("return",this.redirect());case 20:return e.prev=20,e.t1=e.catch(14),console.log("Redirect signout error: ",e.t1),e.abrupt("return",this.error(e.t1));case 24:case"end":return e.stop()}}),e,this,[[2,11],[14,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"completeSignOut",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.prev=2,e.next=5,this.userManager.signoutCallback(t);case 5:return n=e.sent,this.updateState(null),e.abrupt("return",this.success(n&&n.data));case 10:return e.prev=10,e.t0=e.catch(2),console.log("There was an error trying to log out '".concat(e.t0,"'.")),e.abrupt("return",this.error(e.t0));case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateState",value:function(e){this._user=e,this._isAuthenticated=!!this._user,this.notifySubscribers()}},{key:"subscribe",value:function(e){return this._callbacks.push({callback:e,subscription:this._nextSubscriptionId++}),this._nextSubscriptionId-1}},{key:"unsubscribe",value:function(e){var t=this._callbacks.map((function(t,n){return t.subscription===e?{found:!0,index:n}:{found:!1}})).filter((function(e){return!0===e.found}));if(1!==t.length)throw new Error("Found an invalid number of subscriptions ".concat(t.length));this._callbacks.splice(t[0].index,1)}},{key:"notifySubscribers",value:function(){for(var e=0;e<this._callbacks.length;e++){(0,this._callbacks[e].callback)()}}},{key:"createArguments",value:function(e){return{useReplaceToNavigate:!0,data:e}}},{key:"error",value:function(e){return{status:B.Fail,message:e}}},{key:"success",value:function(e){return{status:B.Success,state:e}}},{key:"redirect",value:function(){return{status:B.Redirect}}},{key:"ensureUserManagerInitialized",value:function(){var e=Object(b.a)(m.a.mark((function e(){var t,n,a=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.userManager){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch(M.ApiAuthorizationClientConfigurationUrl);case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Could not load settings for '".concat("PublicationActivity","'"));case 7:return e.next=9,t.json();case 9:(n=e.sent).automaticSilentRenew=!0,n.includeIdTokenInSilentRenew=!0,n.userStore=new P.WebStorageStateStore({prefix:"PublicationActivity"}),this.userManager=new P.UserManager(n),this.userManager.events.addUserSignedOut(Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.userManager.removeUser();case 2:a.updateState(void 0);case 3:case"end":return e.stop()}}),e)}))));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"instance",get:function(){return V}}]),e}()),W=V,B={Redirect:"redirect",Success:"success",Fail:"fail"},z=n(254);function J(e){for(var t=e,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];for(var i in a)t=t.replace("{"+i+"}",a[i]);return t}var q=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={isAuthenticated:!1,userName:null},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._subscription=W.subscribe((function(){return e.populateState()})),this.populateState()}},{key:"componentWillUnmount",value:function(){W.unsubscribe(this._subscription)}},{key:"populateState",value:function(){var e=Object(b.a)(m.a.mark((function e(){var t,n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([W.isAuthenticated(),W.getUser()]);case 2:t=e.sent,n=Object(h.a)(t,2),a=n[0],r=n[1],this.setState({isAuthenticated:a,userName:r&&r.name});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isAuthenticated,n=e.userName;if(t){var a={pathname:"".concat(M.LogOut),state:{local:!0}};return this.authenticatedView(n,a)}var r="".concat(M.Login);return this.anonymousView(r)}},{key:"authenticatedView",value:function(e,t){return r.a.createElement(a.Fragment,null,r.a.createElement(w.a,null,r.a.createElement("div",{className:"text-dark nav-link"},J(this.props.t("ui.greetingUser"),e))),r.a.createElement(w.a,null,r.a.createElement(k.a,{tag:s.b,className:"text-dark",to:t},this.props.t("ui.logout"))))}},{key:"anonymousView",value:function(e){return r.a.createElement(a.Fragment,null,r.a.createElement(w.a,null,r.a.createElement(k.a,{tag:s.b,className:"text-dark",to:e},this.props.t("ui.login"))))}}]),n}(a.Component),H=Object(z.a)()(q),G=(n(135),{User:"User",HeadUser:"HeadUser",Admin:"Admin"}),Y=n(104),X=n(34),K=function(){var e=Object(Y.a)(),t=e.t,n=e.i18n,i=Object(a.useState)(n.language),c=Object(h.a)(i,2),o=c[0],u=c[1],l=Object(a.useState)(!0),p=Object(h.a)(l,2),d=p[0],f=p[1],P=Object(a.useState)(!1),C=Object(h.a)(P,2),R=C[0],A=C[1],T=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.changeLanguage(t);case 2:u(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=A,e.next=3,W.hasRole(G.Admin);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("header",null,r.a.createElement(g.a,{className:"navbar-expand-sm navbar-toggleable-sm ng-white border-bottom box-shadow mb-3",light:!0},r.a.createElement("div",{className:"container navigation-container"},r.a.createElement(v.a,{tag:s.b,to:"/",className:"navbar-brand"},"Publication Activity"),r.a.createElement(y.a,{onClick:function(){return f((function(e){return!e}))},className:"mr-2"}),r.a.createElement(x.a,{className:"d-sm-inline-flex flex-sm-row-reverse",isOpen:!d,navbar:!0},r.a.createElement("ul",{className:"navbar-nav flex-grow"},R&&r.a.createElement(w.a,null,r.a.createElement(k.a,{tag:s.b,className:"text-dark",to:"/administration"},t("ui.administration"))),r.a.createElement(E.a,{setActiveFromChild:!0},r.a.createElement(O.a,{tag:"a",className:"nav-link uppercase language-dropdown",caret:!0},o),r.a.createElement(j.a,{onSelect:function(e){return console.log(e.target.value)}},X.supportedLanguages.map((function(e){return r.a.createElement(S.a,{key:e.identifier,active:o===e.identifier,className:"uppercase",onClick:function(){return T(e.identifier)}},e.identifier)})))),r.a.createElement(H,null))))))},Z=(n(156),function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement("div",{className:"main-container"},t))}),$=n(28),Q=n(261),ee=n(262),te=n(272),ne=n(273),ae=n(274),re=n(7),ie=n.n(re),ce=n(20),se={GetUsersUrl:"".concat("/api","/administration/user/all"),RegisterUserUrl:"".concat("/api","/administration/user"),ResetUserPasswordUrl:"".concat("/api","/administration/resetPassword"),GetPublicationPredefinedDataUrl:"".concat("/api","/publications/predefinedData"),GetUserPublicationsUrl:"".concat("/api","/publications/my"),GetFilteredPublicationsUrl:"".concat("/api","/publications/filter"),GetPublicationsPresenceByTitlesUrl:"".concat("/api","/publications/exist/titles"),CreatePublicationUrl:"".concat("/api","/publications"),GenerateBibliographyDescriptionUrl:"".concat("/api","/publications/generateDescription"),ImportPublicationsUrl:"".concat("/api","/publications/import")},oe=n(52),ue=n(116),le=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];return a=t.call.apply(t,[this].concat(i)),Error.captureStackTrace&&Error.captureStackTrace(Object(oe.a)(a),n),a.exceptionType=e,a}return n}(Object(ue.a)(Error)),pe=new(function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"getPublicationPredefinedData",value:function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJson(se.GetPublicationPredefinedDataUrl);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserPublications",value:function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJson(se.GetUserPublicationsUrl);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFilteredPublications",value:function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postJson(se.GetFilteredPublicationsUrl,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPublicationsPresenceByTitle",value:function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postJson(se.GetPublicationsPresenceByTitlesUrl,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createPublication",value:function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postJson(se.CreatePublicationUrl,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateBibliographyDescription",value:function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postJson(se.GenerateBibliographyDescriptionUrl,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"importPublications",value:function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postJson(se.ImportPublicationsUrl,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllUsers",value:function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJson(se.GetUsersUrl);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"registerUser",value:function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postJson(se.RegisterUserUrl,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetUserPassword",value:function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postJson(se.ResetUserPasswordUrl,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getJson",value:function(){var e=Object(b.a)(m.a.mark((function e(t,n){var a,r,i,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getAccessToken();case 2:return a=e.sent,r=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,Object(ce.a)({headers:Object(ce.a)({"Content-Type":"application/json"},a?{Authorization:"Bearer ".concat(a)}:{})},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,this.retryIfNotAuthenticated(r);case 6:return i=e.sent,e.next=9,i.text();case 9:if(c=e.sent,s=c?JSON.parse(c):{},i.ok){e.next=13;break}throw new le(s.ExceptionType||"ExceptionType.Unknown");case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"postJson",value:function(){var e=Object(b.a)(m.a.mark((function e(t,n,a){var r,i,c,s,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getAccessToken();case 2:return r=e.sent,i=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,Object(ce.a)({method:"POST",headers:Object(ce.a)({"Content-Type":"application/json"},r?{Authorization:"Bearer ".concat(r)}:{}),body:JSON.stringify(n)},a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,this.retryIfNotAuthenticated(i);case 6:return c=e.sent,e.next=9,c.text();case 9:if(s=e.sent,o=s?JSON.parse(s):{},c.ok){e.next=13;break}throw new le(o.ExceptionType||"ExceptionType.Unknown");case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"retryIfNotAuthenticated",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(401!==(n=e.sent).status){e.next=13;break}return a=window.location.href,e.next=7,W.signIn({returnUrl:a});case 7:return r=e.sent,r.status===B.Success&&window.location.replace(a),e.next=12,t();case 12:n=e.sent;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),de=n(260),fe=n(107),me=n(55),be=n(46),he={publicationType:"",originalTitle:"",yearPublished:"",publisherData:"",identifier:"",primaryReferenceLocation:"",secondaryReferenceLocation:"",tertiaryReferenceLocation:"",authorsAndCoAuthors:"",studentsAndDoctorants:"",isiImpactFactor:"",sjrScopusImpactRank:"",publicationLanguageCode:"",publicationLink:""},ge=[{order:0,name:"publicationType",exportedColumnWidth:25},{order:1,name:"originalTitle",exportedColumnWidth:65},{order:2,name:"yearPublished",exportedColumnWidth:15},{order:3,name:"publisherData",exportedColumnWidth:100,exportedCellStyle:{fill:{type:"pattern",pattern:"solid",fgColor:{argb:"ffd9d9d9"}}}},{order:4,name:"identifier",exportedColumnWidth:40,exportedColumnHeaderStyle:{fill:{type:"pattern",pattern:"solid",fgColor:{argb:"ff808080"}}},exportedCellStyle:{fill:{type:"pattern",pattern:"solid",fgColor:{argb:"ff808080"}}}},{order:5,name:"primaryReferenceLocation",exportedColumnWidth:30},{order:6,name:"secondaryReferenceLocation",exportedColumnWidth:30},{order:7,name:"tertiaryReferenceLocation",exportedColumnWidth:30},{order:8,name:"authorsAndCoAuthors",exportedColumnWidth:100},{order:9,name:"studentsAndDoctorants",exportedColumnWidth:30},{order:10,name:"isiImpactFactor",exportedColumnWidth:25},{order:11,name:"sjrScopusImpactRank",exportedColumnWidth:25},{order:12,name:"publicationLanguageCode",exportedColumnWidth:15},{order:13,name:"publicationLink",exportedColumnWidth:30},{order:14,name:"bibliographyDescription",exportedColumnWidth:100,exportedCellStyle:{alignment:{wrapText:!0}}}],ve=new(n(109).a)({duration:5e3}),ye=(n(159),[{name:"publicationType"},{name:"originalTitle"},{name:"yearPublished"}]),xe=function(e,t,n){var a=ge.filter((function(e){return!ye.some((function(t){return t.name===e.name}))&&(!n||"bibliographyDescription"!==e.name)})).map((function(e){return e.name}));return r.a.createElement(de.a,null,r.a.createElement("tbody",null,a.map((function(n,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{key:"".concat(a,"-0")},r.a.createElement("b",null,t("publication.fields.".concat(n)))),r.a.createElement("td",Object.assign({key:"".concat(a,"-1"),className:"detail-field-".concat(n)},"bibliographyDescription"===n?{onClick:function(){return function(e,t){navigator.clipboard.writeText(e),ve.success({message:t("ui.textCopied"),duration:1e3})}(e[n],t)}}:{}),e[n]))}))))},we=function(e){return e.map((function(e,t){return{index:t,data:e,expanded:!1}}))},ke=function(e){var t=e.publications,n=e.enableValidation,i=e.validationResults,c=e.hasInMemoryData,s=Object(Y.a)().t,o=Object(a.useMemo)((function(){return ye}),[]),u=Object(a.useState)(we(t)),l=Object(h.a)(u,2),p=l[0],d=l[1];Object(a.useEffect)((function(){d(we(t))}),[t]);var f=Object(a.useMemo)((function(){return n?p.reduce((function(e,t){var a={},r=i[t.index];return n&&(a={style:{backgroundColor:r.validationErrors.length?X.uiColors.error:X.uiColors.success},"data-tip":r.validationErrors.map((function(e){return e.message})).join("\n")}),!r.validationErrors.length&&r.entityExists&&(a={style:{backgroundColor:X.uiColors.warning},"data-tip":s("publication.validation.alreadyExists")}),e[t.index]=a,e}),{}):{}}),[t,n,i]);return r.a.createElement("div",{style:{maxWidth:"100%",overflowX:"auto"}},r.a.createElement(de.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{key:"default"}),o.map((function(e,t){return r.a.createElement("th",{key:t},s("publication.fields.".concat(e.name)))})))),r.a.createElement("tbody",null,p.map((function(e){return r.a.createElement(a.Fragment,{key:e.index},r.a.createElement("tr",Object.assign({key:"".concat(e.index,"-1")},f[e.index]),r.a.createElement("td",{key:"".concat(e.index,"-btn"),scope:"row"},r.a.createElement(fe.a,{onClick:function(){return function(e){var t=Object($.a)(p);t[e].expanded=!t[e].expanded,d(t)}(e.index)}},r.a.createElement(me.a,{icon:e.expanded?be.a:be.b}))),o.map((function(t,n){return r.a.createElement("td",{key:"".concat(e.index,"-").concat(n)},e.data[t.name])}))),e.expanded?r.a.createElement("tr",Object.assign({key:"".concat(e.index,"-2")},f[e.index]),r.a.createElement("td",{key:"".concat(e.index,"-detail"),colSpan:o.length+1},xe(e.data,s,c))):null)})))))},Ee=new(function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"processPublication",value:function(e){return e?this._processPublication(e):e}},{key:"processPublications",value:function(e){var t=[];if(!e||!e.length)return[];for(var n=0;n<e.length;n+=1){var a=this._processPublication(e[n]);t.push(a)}return t}},{key:"processDbPublications",value:function(e){var t=this;return e&&e.length?e.map((function(e){if(!e.contributors||!e.contributors.length)return Object(ce.a)({},e);var n=e.contributors.filter((function(e){return!e.isStudentOrDoctorant})),a=e.contributors.filter((function(e){return e.isStudentOrDoctorant})),r=Object(ce.a)({},e,{authorsAndCoAuthors:t._processDbNames(n),studentsAndDoctorants:t._processDbNames(a),bibliographyDescription:e.bibliographyDescription});return delete r.contributors,r})):[]}},{key:"_processPublication",value:function(e){var t=[];if(e.authorsAndCoAuthors){var n=this._processNames(e.authorsAndCoAuthors);n&&t.push.apply(t,Object($.a)(n))}if(e.studentsAndDoctorants){var a=this._processNames(e.studentsAndDoctorants);a&&t.push.apply(t,Object($.a)(a.map((function(e){return Object(ce.a)({},e,{isStudentOrDoctorant:!0})}))))}var r=Object(ce.a)({},e,{yearPublished:e.yearPublished||0,contributors:t.length?t:null});return delete r.authorsAndCoAuthors,delete r.studentsAndDoctorants,r}},{key:"_processDbNames",value:function(e){return e?e.map((function(e){return"".concat(e.firstName," ").concat(e.lastName)})).join(", "):e}},{key:"_processNames",value:function(e){if(!e)return e;try{return e.split(",").filter((function(e){return e&&e.trim()})).map((function(e,t){var n=e.trim().split(" ").map((function(e){return e.trim()})),a=Object(h.a)(n,2),r=a[0],i=a[1];if(!r||!i)throw new Error("Invalid formatting.");return{order:t,firstName:r,lastName:i}}))}catch(t){return null}}}]),e}()),Oe=n(110),je=n(111),Se=n(73),Pe={top:{color:{argb:"ff000000"},style:"thin"},left:{color:{argb:"ffd9d9d9"},style:"thin"},right:{color:{argb:"ffd9d9d9"},style:"thin"},bottom:{color:{argb:"ff000000"},style:"thin"}},Ce={name:"Calibri",family:1,size:10,bold:!0},Re={horizontal:"center",vertical:"middle",wrapText:!0},Ae=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"getSheetsFromData",value:function(e){var t,n=typeof e===Uint8Array?"array":"binary",a=Object(Se.read)(e,{type:n}),r={},i=Object(je.a)(a.SheetNames);try{for(i.s();!(t=i.n()).done;){var c=t.value;r[c]=Se.utils.sheet_to_json(a.Sheets[c],{range:0,header:1})}}catch(s){i.e(s)}finally{i.f()}return{jsonArr:r,wb:a}}},{key:"exportDataToFile",value:function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,t.xlsx.writeBuffer({useStyles:!0});case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Te=new(function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"getPrimaryHeaderCellStyles",value:function(){return{fill:{type:"pattern",pattern:"solid",fgColor:{argb:"ffd9d9d9"}},border:Pe,alignment:Re,font:Ce}}},{key:"getCellStyles",value:function(){return{alignment:{horizontal:"left"}}}}]),e}()),Ue=new Ae,Le=function(){var e=new Date;return"".concat(e.getDate(),"-").concat(e.getMonth()+1,"-").concat(e.getFullYear(),"-").concat(e.getHours(),"-").concat(e.getMinutes(),"-").concat(e.getSeconds())},Ie=function(e){var t=e.publications,n=Object(Y.a)().t,a=function(e){for(var t=e.getRow(1),a=0;a<ge.length;a+=1){var r=ge[a],i=t.getCell(a+1);i.style=Te.getPrimaryHeaderCellStyles(),r.exportedColumnHeaderStyle&&Object.assign(i.style,r.exportedColumnHeaderStyle),i.value=n("publication.fields.".concat(r.name))}},i=function(e){for(var n=0;n<t.length;n+=1)for(var a=t[n],r=e.getRow(n+1+1),i=void 0,c=0;c<ge.length;c+=1){var s=ge[c],o=a[s.name];(i=r.getCell(c+1)).style=Te.getCellStyles(),s.exportedCellStyle&&Object.assign(i.style,s.exportedCellStyle),i.value=o}},c=function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.addWorksheet("\u041e\u0442\u0447\u0435\u0442 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"),s(n),a(n),i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(e){for(var t=0;t<ge.length;t+=1)e.getColumn(t+1).width=ge[t].exportedColumnWidth},o=function(){var e=Object(b.a)(m.a.mark((function e(){var t,a,r,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Oe.Workbook,e.next=3,c(t);case 3:return e.next=5,Ue.exportDataToFile(t);case 5:a=e.sent,r=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i=document.createElement("a"),s=Le(),i.href=window.URL.createObjectURL(r),i.download="\u041e\u0442\u0447\u0435\u0442_\u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438_".concat(s,"_.xlsx"),i.click(),ve.success(n("ui.publicationExportSuccess"));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(fe.a,{disabled:!(t&&t.length),color:"primary",onClick:o},n("ui.export"))},Ne=function(){var e=Object(Y.a)().t,t=Object(a.useState)([]),n=Object(h.a)(t,2),i=n[0],c=n[1];return Object(a.useEffect)((function(){Object(b.a)(m.a.mark((function t(){var n,a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe.getUserPublications();case 3:if(!(n=t.sent)||!n.length){t.next=9;break}return t.next=7,Ee.processDbPublications(n);case 7:a=t.sent,c(a);case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),r=t.t0.exceptionType?e(t.t0.exceptionType):t.t0.message,ve.error(r);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"mb-3"},r.a.createElement("h2",null,e("ui.myPublications")))),r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"mb-3"},r.a.createElement(Ie,{publications:i}))),r.a.createElement(Q.a,null,r.a.createElement(ee.a,null,r.a.createElement("div",{style:{maxWidth:"100%",overflowX:"auto"}},!!i.length&&r.a.createElement(ke,{publications:i})))))},De=n(267),Fe=n(268),_e=n(42),Me=n(263),Ve=n(264),We=n(265),Be=n(266),ze=n(23),Je=n.n(ze),qe=(new Date).getFullYear(),He=new(function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"validatePublication",value:function(e,t,n){if(e)return this._validatePublication(e,t,n)}},{key:"validatePublications",value:function(){var e=Object(b.a)(m.a.mark((function e(t,n,a){var r,i,c,s,o,u,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},t&&t.length){e.next=3;break}return e.abrupt("return",{});case 3:for(i=0;i<t.length;i+=1)c={index:i,validationErrors:this._validatePublication(t[i],n,a)},r[i]=c;return e.next=6,pe.getPublicationsPresenceByTitle(t.map((function(e){return e.originalTitle})));case 6:for(u in s=e.sent,o=s.reduce((function(e,t){return e[t.title]=t.value,e}),{}),r)(l=r[u]).entityExists=o[t[l.index].originalTitle];return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"_validatePublication",value:function(e,t,n){var a=[];if(Je.a.isEmpty(e.publicationType))a.push({field:"publicationType",message:this._getRequiredFieldValidationErrorMessage("publicationType",n)});else{var r,i=null===t||void 0===t||null===(r=t.publicationTypes)||void 0===r?void 0:r.find((function(t){return t.name===e.publicationType}));i&&i.supported||a.push({field:"publicationType",message:J(n("publication.validation.typeNotSupported"),e.publicationType)})}return Je.a.isEmpty(e.originalTitle)&&a.push({field:"originalTitle",message:this._getRequiredFieldValidationErrorMessage("originalTitle",n)}),Je.a.isEmpty("".concat(e.yearPublished))&&a.push({field:"yearPublished",message:this._getRequiredFieldValidationErrorMessage("yearPublished",n)}),(e.yearPublished<1970||e.yearPublished>qe)&&a.push({field:"yearPublished",message:J(n("publication.validation.yearPublishedInvalidRange"),n("publication.fields.yearPublished"),qe)}),Je.a.isEmpty("".concat(e.publisherData))&&a.push({field:"publisherData",message:this._getRequiredFieldValidationErrorMessage("publisherData",n)}),Je.a.isEmpty("".concat(e.authorsAndCoAuthors))&&a.push({field:"authorsAndCoAuthors",message:this._getRequiredFieldValidationErrorMessage("authorsAndCoAuthors",n)}),this._isNamesFormattingCorrect(e.authorsAndCoAuthors)||a.push({field:"authorsAndCoAuthors",message:J(n("publication.validation.invalidNamesFormatting"),n("publication.fields.authorsAndCoAuthors"))}),this._isNamesFormattingCorrect(e.studentsAndDoctorants)||a.push({field:"studentsAndDoctorants",message:J(n("publication.validation.invalidNamesFormatting"),n("publication.fields.studentsAndDoctorants"))}),Je.a.isEmpty(e.publicationLanguageCode)&&a.push({field:"publicationLanguageCode",message:this._getRequiredFieldValidationErrorMessage("publicationLanguageCode",n)}),2!==e.publicationLanguageCode.length&&a.push({field:"publicationLanguageCode",message:J(n("publication.validation.publicationLanguageInvalidLength"),n("publication.fields.publicationLanguageCode"))}),a}},{key:"_getRequiredFieldValidationErrorMessage",value:function(e,t){return J(t("validation.required"),t("publication.fields.".concat(e)))}},{key:"_isNamesFormattingCorrect",value:function(e){if(!e)return!0;try{return e.split(",").filter((function(e){return e&&e.trim()})).every((function(e){var t=e.trim().split(" ").map((function(e){return e.trim()})),n=Object(h.a)(t,2),a=n[0],r=n[1];return!(!a||!r)}))}catch(t){return!1}}}]),e}()),Ge={initialState:!0},Ye=(new Date).getFullYear(),Xe=function(e){var t=e.labelsTranslationPrefix,n=e.defaultPublicationState,i=e.predefinedData,c=e.formSubmitted,s=e.enableValidation,o=e.onFieldUpdated,u=e.onFieldsValidated,l=Object(Y.a)().t,p=Object(a.useState)(n),d=Object(h.a)(p,2),f=d[0],g=d[1],v=Object(a.useState)(Ge),y=Object(h.a)(v,2),x=y[0],w=y[1],k=Object(a.useRef)(),E=Object(a.useRef)(),O={publicationType:{type:"select",identifier:"publicationType",content:[r.a.createElement("option",{key:0,value:n.publicationType},l("ui.chooseOption"))].concat(Object($.a)(i.publicationTypes.map((function(e){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))))},originalTitle:{type:"text",identifier:"originalTitle"},yearPublished:{type:"number",identifier:"yearPublished",additionalAttributes:{min:1970,max:Ye}},publisherData:{type:"text",identifier:"publisherData"},identifier:{type:"text",identifier:"identifier"},primaryReferenceLocation:{type:"select",identifier:"primaryReferenceLocation",content:[r.a.createElement("option",{key:0,value:n.primaryReferenceLocation},l("ui.chooseOption"))].concat(Object($.a)(i.primaryReferenceLocations.map((function(e){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))))},secondaryReferenceLocation:{type:"select",identifier:"secondaryReferenceLocation",content:[r.a.createElement("option",{key:0,value:n.secondaryReferenceLocation},l("ui.chooseOption"))].concat(Object($.a)(i.secondaryReferenceLocations.map((function(e){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))))},tertiaryReferenceLocation:{type:"text",identifier:"tertiaryReferenceLocation"},authorsAndCoAuthors:{type:"text",identifier:"authorsAndCoAuthors"},studentsAndDoctorants:{type:"text",identifier:"studentsAndDoctorants"},isiImpactFactor:{type:"text",identifier:"isiImpactFactor"},sjrScopusImpactRank:{type:"text",identifier:"sjrScopusImpactRank"},publicationLanguageCode:{type:"text",identifier:"publicationLanguageCode",additionalAttributes:{maxLength:2}},publicationLink:{type:"text",identifier:"publicationLink"}},j=[{cols:[O.publicationType,O.yearPublished],colProps:{sm:12,md:6}},{cols:[O.originalTitle]},{cols:[O.publisherData]},{cols:[O.identifier,O.publicationLanguageCode],colProps:{sm:12,md:6}},{cols:[O.primaryReferenceLocation,O.secondaryReferenceLocation,O.tertiaryReferenceLocation],colProps:{sm:12,md:4}},{cols:[O.authorsAndCoAuthors]},{cols:[O.studentsAndDoctorants]},{cols:[O.isiImpactFactor,O.sjrScopusImpactRank],colProps:{sm:12,md:6}},{cols:[O.publicationLink]}];Object(a.useEffect)((function(){return c&&(E.current=c.subscribe((function(){return g(n)}))),function(){E.current&&E.current.unsubscribe(),k.current&&clearTimeout(k.current)}}),[]);var S=function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.validatePublication(t,i,l);case 2:n=e.sent,a=n.reduce((function(e,t){return e[t.field]||(e[t.field]=[]),e[t.field].push(t.message),e}),{}),u&&u(!n.length),w(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){var t=e.target,n=t.name,a=t.value,r=Object(ce.a)({},f,Object(_e.a)({},n,a));g(r),o(r),s&&(k.current&&clearTimeout(k.current),k.current=setTimeout(Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(r);case 2:case"end":return e.stop()}}),e)}))),1e3))};return r.a.createElement(Q.a,null,r.a.createElement(ee.a,null,j.map((function(e,n){return r.a.createElement(Q.a,{key:n},e.cols.map((function(n,a){return r.a.createElement(ee.a,Object.assign({key:a},e.colProps?e.colProps:{}),function(e){return r.a.createElement(Me.a,{key:e.identifier},r.a.createElement(Ve.a,{for:e.identifier},l("".concat(t,".").concat(e.identifier))),e.content?r.a.createElement(We.a,Object.assign({type:e.type,name:e.identifier,id:e.identifier,invalid:s&&!!x[e.identifier]},e.additionalAttributes||{},{value:f[e.identifier],onChange:P}),e.content):r.a.createElement(We.a,Object.assign({type:e.type,name:e.identifier,id:e.identifier,invalid:s&&!!x[e.identifier]},e.additionalAttributes||{},{value:f[e.identifier],onChange:P})),s&&x[e.identifier]&&r.a.createElement(Be.a,null,x[e.identifier].join("\n")))}(n))})))}))))},Ke=function(){var e=Object(Y.a)().t,t=Object(a.useState)(),n=Object(h.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)({}),o=Object(h.a)(s,2),u=o[0],l=o[1],p=Object(a.useState)(!1),d=Object(h.a)(p,2),f=d[0],g=d[1],v=Object(a.useState)(!1),y=Object(h.a)(v,2),w=y[0],k=y[1],E=Object(a.useState)(),O=Object(h.a)(E,2),j=O[0],S=O[1],P=Object(a.useState)(!1),C=Object(h.a)(P,2),R=C[0],A=C[1];Object(a.useEffect)((function(){Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,pe.getPublicationPredefinedData();case 3:e.t1=e.sent,(0,e.t0)(e.t1),g(!0);case 6:case"end":return e.stop()}}),e)})))()}),[]);var T=function(){var t=Object(b.a)(m.a.mark((function t(){var n,a,r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(!0),t.prev=1,n=Ee.processPublication(u),t.next=5,pe.getFilteredPublications(n);case 5:return a=t.sent,t.next=8,Ee.processDbPublications(a);case 8:r=t.sent,S(r),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),i=t.t0.exceptionType?e(t.t0.exceptionType):t.t0.message,ve.error(i);case 16:k(!1),A(!1);case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"mb-3"},r.a.createElement("h2",null,e("ui.searchPublications")))),r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"mb-3"},r.a.createElement(fe.a,{color:"primary",className:"mr-2",onClick:function(){return k(!w)}},e(w?"ui.hideFilters":"ui.showFilters")),r.a.createElement(fe.a,{color:"success",className:"mr-2",disabled:R,onClick:function(){return T()}},R?r.a.createElement(De.a,{type:"grow",size:"sm",color:"primary"}):e("ui.search")),r.a.createElement(Ie,{publications:j}),r.a.createElement(x.a,{isOpen:w},r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"mt-3"},r.a.createElement(Fe.a,null,f&&r.a.createElement(Xe,{labelsTranslationPrefix:"publication.fields",defaultPublicationState:he,predefinedData:i,enableValidation:!1,onFieldUpdated:function(e){return l(e)}}))))))),r.a.createElement(Q.a,null,r.a.createElement(ee.a,null,j&&!!j.length&&r.a.createElement(ke,{publications:j}))))},Ze=n(271),$e=n(275),Qe=n(279),et=n(269),tt=n(270),nt=function(e){var t=e.isOpen,n=e.configuration;return r.a.createElement(Qe.a,{isOpen:t},r.a.createElement(et.a,null,n.message),r.a.createElement(tt.a,null,r.a.createElement(fe.a,{color:"primary",onClick:n.confirm.handler},n.confirm.label)," ",r.a.createElement(fe.a,{color:"secondary",onClick:n.decline.handler},n.decline.label)))},at=(n(244),function(){var e=Object(Y.a)().t,t=Object(a.useState)(he),n=Object(h.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)(),o=Object(h.a)(s,2),u=o[0],l=o[1],p=Object(a.useState)(""),d=Object(h.a)(p,2),f=d[0],g=d[1],v=Object(a.useState)(!1),y=Object(h.a)(v,2),x=y[0],w=y[1],k=Object(a.useState)(!1),E=Object(h.a)(k,2),O=E[0],j=E[1],S=Object(a.useState)(!1),P=Object(h.a)(S,2),C=P[0],R=P[1],A=Object(a.useRef)(),T=Object(a.useRef)(new $e.a);Object(a.useEffect)((function(){Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,pe.getPublicationPredefinedData();case 3:e.t1=e.sent,(0,e.t0)(e.t1),j(!0);case 6:case"end":return e.stop()}}),e)})))()}),[]);var U=function(){var t=Object(b.a)(m.a.mark((function t(n){var a,r,i,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Ee.processPublication(n),t.next=4,pe.generateBibliographyDescription(a);case 4:r=t.sent,i=r.text,g(i),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),c=t.t0.exceptionType?e(t.t0.exceptionType):t.t0.message,ve.error(c);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(b.a)(m.a.mark((function t(){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Ee.processPublication(i),t.next=4,pe.createPublication(n);case 4:ve.success(e("ui.addPublicationSuccess")),T.current.next(),c(he),g(""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),a=t.t0.exceptionType?e(t.t0.exceptionType):t.t0.message,ve.error(a);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(b.a)(m.a.mark((function t(){var n,a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe.getPublicationsPresenceByTitle([i.originalTitle]);case 3:if(n=t.sent,a=Object(h.a)(n,1),!a[0].value){t.next=10;break}R(!0),t.next=12;break;case 10:return t.next=12,L();case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),r=t.t0.exceptionType?e(t.t0.exceptionType):t.t0.message,ve.error(r);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}(),N=Object(a.useMemo)((function(){return{message:e("publication.modal.alreadyExists"),confirm:{label:e("ui.yes"),handler:function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:R(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},decline:{label:e("ui.no"),handler:function(){R(!1)}}}}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"mb-3"},r.a.createElement("h2",null,e("ui.createPublication")))),r.a.createElement(Q.a,null,r.a.createElement(ee.a,null,r.a.createElement(Fe.a,null,O&&r.a.createElement(Xe,{labelsTranslationPrefix:"publication.createFields",defaultPublicationState:he,formSubmitted:T.current,predefinedData:u,enableValidation:!0,onFieldUpdated:function(e){c(e),A.current&&clearTimeout(A.current),A.current=setTimeout(Object(b.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:case"end":return t.stop()}}),t)}))),1e3)},onFieldsValidated:function(e){return w(e)}}),r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"container"},f&&r.a.createElement(Ze.a,{color:"dark",className:"publication-text-container",onClick:function(){navigator.clipboard.writeText(f),ve.success({message:e("ui.textCopied"),duration:1e3})}},f))),r.a.createElement(fe.a,{disabled:!x,onClick:function(){return I()}},e("ui.addPublicationButton"))))),r.a.createElement(nt,{isOpen:C,configuration:N}))}),rt=n(56),it=function(e){return e?e.toString():e},ct=new(function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"parseData",value:function(e){for(var t=[],n=e.Sheets["2.1 \u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u041d\u0415\u043f\u043e\u0434\u0430\u0434\u0435\u043d\u0438 \u0432 \u041d\u0410\u0426"],a=2;;){var r={};if(r.publicationType=it(this._getCellValue(n["B".concat(a)])),!r.publicationType)break;r.originalTitle=it(this._getCellValue(n["C".concat(a)])),r.yearPublished=this._getCellValue(n["D".concat(a)]),r.publisherData=this._getCellValue(n["E".concat(a)]),r.identifier=this._getCellValue(n["F".concat(a)]),r.primaryReferenceLocation=this._getCellValue(n["G".concat(a)]),r.secondaryReferenceLocation=this._getCellValue(n["H".concat(a)]),r.tertiaryReferenceLocation=this._getCellValue(n["I".concat(a)]),r.authorsAndCoAuthors=this._getCellValue(n["J".concat(a)]),r.studentsAndDoctorants=this._getCellValue(n["K".concat(a)]),r.isiImpactFactor=this._getCellValue(n["L".concat(a)]),r.sjrScopusImpactRank=this._getCellValue(n["M".concat(a)]),r.publicationLanguageCode=this._getCellValue(n["N".concat(a)]),r.publicationLink=this._getCellValue(n["O".concat(a)]),t.push(r),a+=1}return t}},{key:"_getCellValue",value:function(e){var t=e&&e.v;if("string"===typeof t){var n=t.trim();""!==n&&"-"!==n||(t=void 0)}return t}}]),e}()),st=function(e){var t=e.onImport,n=e.className,i=Object(Y.a)().t,c=Object(a.useState)(!1),s=Object(h.a)(c,2),o=s[0],u=s[1],l=Object(a.useRef)(null),p=function(e){return new Promise((function(t){var n=new FileReader,a="undefined"!==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result;a||(n=new Uint8Array(n)),t(n)},a?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}))},d=function(){var e=Object(b.a)(m.a.mark((function e(n){var a,r,i,c,s,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.target,u(!0),a.files&&a.files.length){e.next=4;break}return e.abrupt("return");case 4:return r=Object(h.a)(a.files,1),i=r[0],e.next=7,p(i);case 7:return c=e.sent,s=Ue.getSheetsFromData(c),o=ct.parseData(s.wb),e.prev=10,e.next=13,t(o);case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(10);case 17:u(!1);case 18:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{color:"primary",disabled:o,className:n,onClick:function(){return l.current.click()}},o?r.a.createElement(De.a,{type:"grow",color:"primary",size:"sm"}):i("ui.selectFile")),r.a.createElement("input",{ref:l,type:"file",hidden:!0,multiple:!1,accept:".xls,.xlsx,.ods",onChange:d}))},ot=function(){var e=Object(Y.a)().t,t=Object(a.useState)([]),n=Object(h.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)(),o=Object(h.a)(s,2),u=o[0],l=o[1],p=Object(a.useState)({}),d=Object(h.a)(p,2),f=d[0],g=d[1],v=Object(a.useState)(!1),y=Object(h.a)(v,2),x=y[0],w=y[1],k=Object(a.useState)(!1),E=Object(h.a)(k,2),O=E[0],j=E[1];Object(a.useEffect)((function(){Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,pe.getPublicationPredefinedData();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]);var S=function(){var t=Object(b.a)(m.a.mark((function t(n){var a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(n),t.next=3,He.validatePublications(n,u,e);case 3:a=t.sent,g(a),r=!Object.values(a).some((function(e){return e.validationErrors.length>0})),w(r),rt.a.rebuild();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=Object(b.a)(m.a.mark((function t(){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Ee.processPublications(i),t.next=4,pe.importPublications(n);case 4:ve.success(e("ui.importSuccess")),c([]),w(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),a=t.t0.exceptionType?e(t.t0.exceptionType):t.t0.message,ve.error(a);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),C=Object(a.useMemo)((function(){return{message:e("publication.modal.alreadyExistsImport"),confirm:{label:e("ui.yes"),handler:function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:j(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},decline:{label:e("ui.no"),handler:function(){j(!1)}}}}),[i]),R=function(){var t=Object(b.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!f||!Object.values(f).some((function(e){return e.entityExists}))){t.next=5;break}j(!0),t.next=7;break;case 5:return t.next=7,P();case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n=t.t0.exceptionType?e(t.t0.exceptionType):t.t0.message,ve.error(n);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,null,r.a.createElement(ee.a,null,r.a.createElement("h2",{className:"mb-3"},e("ui.importPublications")))),r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"mb-3"},r.a.createElement(st,{className:"mr-2",onImport:function(e){return S(e)}}),r.a.createElement(fe.a,{disabled:!x,onClick:function(){return R()}},e("ui.importButton")))),r.a.createElement(Q.a,null,r.a.createElement(ee.a,null,r.a.createElement("div",{style:{maxWidth:"100%",overflowX:"auto"}},!!i.length&&!!Object.keys(f).length&&r.a.createElement(ke,{publications:i,enableValidation:!0,validationResults:f,hasInMemoryData:!0})))),r.a.createElement(nt,{isOpen:O,configuration:C}))},ut=function(){var e=Object(Y.a)().t,t=Object(a.useState)(0),n=Object(h.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)(!1),o=Object(h.a)(s,2),u=o[0],l=o[1],p=[{title:"ui.myPublicationsShort",Component:Ne}].concat(Object($.a)(u?[{title:"ui.searchPublicationsShort",Component:Ke}]:[]),[{title:"ui.createPublicationShort",Component:at},{title:"ui.importPublicationsShort",Component:ot}]);return Object(a.useEffect)((function(){Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,W.hasRole([G.HeadUser,G.Admin]);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(Q.a,null,r.a.createElement(ee.a,{sm:"12",md:"2"},r.a.createElement(te.a,{tabs:!0,vertical:!0,className:"mb-3"},p.map((function(t,n){return r.a.createElement(w.a,{key:n},r.a.createElement(k.a,{className:ie()({active:i===n}),onClick:function(){return function(e){i!==e&&c(e)}(n)}},e(t.title)))})))),r.a.createElement(ee.a,{sm:"12",md:"10"},r.a.createElement(ne.a,{activeTab:i},p.map((function(e,t){return r.a.createElement(ae.a,{key:t,tabId:t},i===t?r.a.createElement(Q.a,null,r.a.createElement(ee.a,{sm:"12"},r.a.createElement(e.Component,null))):null)})))))},lt=new(function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"validateUser",value:function(e,t){if(e){var n=[];return Je.a.isEmpty(e.username)&&n.push({field:"username",message:this._getRequiredFieldValidationErrorMessage("username",t)}),Je.a.matches(e.username,/^[A-Za-z0-9]+$/)||n.push({field:"username",message:J(t("validation.invalidUsername"),t("user.fields.username"))}),Je.a.isEmpty(e.email)&&n.push({field:"email",message:this._getRequiredFieldValidationErrorMessage("email",t)}),Je.a.isEmail(e.email)||n.push({field:"email",message:t("validation.invalidEmail")}),Je.a.isEmpty(e.role)&&n.push({field:"role",message:this._getRequiredFieldValidationErrorMessage("role",t)}),n}}},{key:"_getRequiredFieldValidationErrorMessage",value:function(e,t){return J(t("validation.required"),t("user.fields.".concat(e)))}}]),e}()),pt={username:"",email:"",role:""},dt={initialState:!0},ft=[{title:"ui.previewUsersShort",Component:function(){var e=Object(Y.a)().t,t=Object(a.useState)(!1),n=Object(h.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)([]),o=Object(h.a)(s,2),u=o[0],l=o[1];Object(a.useEffect)((function(){Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,pe.getAllUsers();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]);var p=function(){var t=Object(b.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.prev=1,t.next=4,pe.resetUserPassword(n);case 4:ve.success(e("ui.passwordResetSuccessfully")),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),a=t.t0.exceptionType?e(t.t0.exceptionType):t.t0.message,ve.error(a);case 11:c(!1);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),d=u&&u.length?Object.keys(u[0]):{};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"mb-3"},r.a.createElement("h2",null,e("ui.previewUsers")))),r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"mb-3"},r.a.createElement("div",{style:{maxWidth:"100%",overflowX:"auto"}},!(!u||!u.length)&&r.a.createElement(de.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),d.map((function(t,n){return r.a.createElement("th",{key:n},e("user.fields.".concat(t)))})))),r.a.createElement("tbody",null,u.map((function(t,n){return r.a.createElement("tr",{key:n},r.a.createElement("th",{scope:"row"},n+1),d.map((function(e,n){return r.a.createElement("td",{key:n},t[e])})),r.a.createElement("td",{key:d.length},r.a.createElement(fe.a,{color:"primary",disabled:i,onClick:function(){return p(t.email)}},e("ui.resetUserPassword"))))}))))))))},colProps:{sm:12}},{title:"ui.registerUsersShort",Component:function(){var e=Object(Y.a)().t,t=Object(a.useState)(pt),n=Object(h.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)(dt),o=Object(h.a)(s,2),u=o[0],l=o[1],p=Object(a.useRef)(),d=[{type:"text",identifier:"username"},{type:"text",identifier:"email"},{type:"select",identifier:"role",content:[r.a.createElement("option",{key:0,value:pt.role,hidden:!0},e("ui.chooseOption")),Object.values(G).map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))]}],f=function(t){var n=t.target,a=n.name,r=n.value,s=Object(ce.a)({},i,Object(_e.a)({},a,r));c(s),p.current&&clearTimeout(p.current),p.current=setTimeout(Object(b.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=lt.validateUser(s,e).reduce((function(e,t){return e[t.field]||(e[t.field]=[]),e[t.field].push(t.message),e}),{}),l(n);case 2:case"end":return t.stop()}}),t)}))),1e3)},g=function(){var t=Object(b.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe.registerUser(i);case 3:ve.success(e("ui.userRegisteredSuccessfully")),l(dt),c(pt),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),n=t.t0.exceptionType?e(t.t0.exceptionType):t.t0.message,ve.error(n);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"mb-3"},r.a.createElement("h2",null,e("ui.registerUsers")))),r.a.createElement(Q.a,null,r.a.createElement(ee.a,{className:"mb-3"},r.a.createElement(Fe.a,null,d.map((function(t){return r.a.createElement(Me.a,{key:t.identifier},r.a.createElement(Ve.a,{for:t.identifier},e("user.fields.".concat(t.identifier))),t.content?r.a.createElement(We.a,{type:t.type,name:t.identifier,id:t.identifier,invalid:!!u[t.identifier],value:i[t.identifier],onChange:f},t.content):r.a.createElement(We.a,{type:t.type,name:t.identifier,id:t.identifier,invalid:!!u[t.identifier],value:i[t.identifier],onChange:f}),u[t.identifier]&&r.a.createElement(Be.a,null,u[t.identifier].join("\n")))})),r.a.createElement(fe.a,{disabled:u.initialState||!!Object.keys(u).length,onClick:function(){return g()}},e("ui.registerUser"))))))},colProps:{sm:12,md:6}}],mt=function(){var e=Object(Y.a)().t,t=Object(a.useState)(0),n=Object(h.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)(),o=Object(h.a)(s,2),u=o[0],l=o[1];return Object(a.useEffect)((function(){Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,W.hasRole(G.Admin);case 3:if(e.t1=e.sent,e.t1){e.next=6;break}e.t1=!1;case 6:e.t2=e.t1,(0,e.t0)(e.t2);case 8:case"end":return e.stop()}}),e)})))()}),[]),"undefined"==typeof u?r.a.createElement("div",null):"undefined"==typeof u||u?r.a.createElement(Q.a,null,r.a.createElement(ee.a,{sm:"12",md:"2"},r.a.createElement(te.a,{tabs:!0,vertical:!0,className:"mb-3"},ft.map((function(t,n){return r.a.createElement(w.a,{key:n},r.a.createElement(k.a,{className:ie()({active:i===n}),onClick:function(){return function(e){i!==e&&c(e)}(n)}},e(t.title)))})))),r.a.createElement(ee.a,{sm:"12",md:10},r.a.createElement(ne.a,{activeTab:i},ft.map((function(e,t){return r.a.createElement(ae.a,{key:t,tabId:t},i===t?r.a.createElement(Q.a,null,r.a.createElement(ee.a,e.colProps,r.a.createElement(e.Component,null))):null)}))))):r.a.createElement(d.a,{to:"/"})},bt=n(117),ht=function(e){var t=e.component,n=e.path,i=Object(bt.a)(e,["component","path"]),c=Object(a.useState)(!1),s=Object(h.a)(c,2),o=s[0],u=s[1],l=Object(a.useState)(!1),p=Object(h.a)(l,2),f=p[0],g=p[1],v=Object(a.useRef)(),y=Object(a.useCallback)(Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),u(!1),e.next=4,x();case 4:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){return Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.current=W.subscribe((function(){return y()})),e.next=3,x();case 3:case"end":return e.stop()}}),e)})))(),function(){return W.unsubscribe(v.current)}}),[y]);var x=function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.isAuthenticated();case 2:t=e.sent,g(t),u(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=document.createElement("a");w.href=n;var k="".concat(w.protocol,"//").concat(w.host).concat(w.pathname).concat(w.search).concat(w.hash),E="".concat(M.Login,"?").concat(C,"=").concat(encodeURI(k));return o?r.a.createElement(d.b,Object.assign({},i,{render:function(e){return f?r.a.createElement(t,e):r.a.createElement(d.a,{to:E})}})):r.a.createElement("div",null)},gt=n(58),vt=n.n(gt),yt=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={message:void 0},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.action;switch(e){case L:this.login(this.getReturnUrl());break;case I:this.processLoginCallback();break;case N:var t=new URLSearchParams(window.location.search).get(R);this.setState({message:t});break;case D:this.redirectToProfile();break;case F:this.redirectToRegister();break;default:throw new Error("Invalid action '".concat(e,"'"))}}},{key:"renderLoadingScreen",value:function(e){return r.a.createElement("div",{className:"centered-container"},r.a.createElement("div",{className:"text-center"},r.a.createElement(vt.a,{style:{width:"80px",height:"80px"},color:"primary",type:"grow"}),r.a.createElement("p",{className:"mt-3"},e)))}},{key:"render",value:function(){var e=this.props.action,t=this.state.message;if(t)return r.a.createElement("div",null,t);switch(e){case L:case I:return this.renderLoadingScreen(this.props.t("ui.loggingIn"));case D:case F:return r.a.createElement("div",null);default:throw new Error("Invalid action '".concat(e,"'"))}}},{key:"login",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={returnUrl:t},e.next=3,W.signIn(n);case 3:a=e.sent,e.t0=a.status,e.next=e.t0===B.Redirect?7:e.t0===B.Success?8:e.t0===B.Fail?11:13;break;case 7:return e.abrupt("break",14);case 8:return e.next=10,this.navigateToReturnUrl(t);case 10:return e.abrupt("break",14);case 11:return this.setState({message:a.message}),e.abrupt("break",14);case 13:throw new Error("Invalid status result ".concat(a.status,"."));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"processLoginCallback",value:function(){var e=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,e.next=3,W.completeSignIn(t);case 3:n=e.sent,e.t0=n.status,e.next=e.t0===B.Redirect?7:e.t0===B.Success?8:e.t0===B.Fail?11:13;break;case 7:throw new Error("Should not redirect.");case 8:return e.next=10,this.navigateToReturnUrl(this.getReturnUrl(n.state));case 10:return e.abrupt("break",14);case 11:return this.setState({message:n.message}),e.abrupt("break",14);case 13:throw new Error("Invalid authentication result status '".concat(n.status,"'."));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReturnUrl",value:function(e){var t=new URLSearchParams(window.location.search).get(C);if(t&&!t.startsWith("".concat(window.location.origin,"/")))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||"".concat(window.location.origin,"/")}},{key:"redirectToRegister",value:function(){this.redirectToApiAuthorizationPath("".concat(M.IdentityRegisterPath,"?").concat(C,"=").concat(encodeURI(M.Login)))}},{key:"redirectToProfile",value:function(){this.redirectToApiAuthorizationPath(M.IdentityManagePath)}},{key:"redirectToApiAuthorizationPath",value:function(e){var t="".concat(window.location.origin).concat(e);window.location.replace(t)}},{key:"navigateToReturnUrl",value:function(e){window.location.replace(e)}}]),n}(a.Component),xt=Object(z.a)()(yt),wt=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={message:void 0,isReady:!1,authenticated:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.action;switch(e){case T:window.history.state.state.local?this.logout(this.getReturnUrl()):this.setState({isReady:!0,message:"The logout was not initiated from within the page."});break;case A:this.processLogoutCallback();break;case U:this.setState({isReady:!0,message:this.props.t("ui.loggedOut")});break;default:throw new Error("Invalid action '".concat(e,"'"))}this.populateAuthenticationState()}},{key:"renderLogoutScreen",value:function(){return r.a.createElement("div",{className:"centered-container"},r.a.createElement("div",{className:"text-center"},r.a.createElement(me.a,{icon:be.c,color:"#28a745",size:"5x"}),r.a.createElement("p",{className:"mt-3"},this.props.t("ui.loggedOut"))))}},{key:"renderLoadingScreen",value:function(e){return r.a.createElement("div",{className:"centered-container"},r.a.createElement("div",{className:"text-center"},r.a.createElement(vt.a,{style:{width:"80px",height:"80px"},color:"primary",type:"grow"}),r.a.createElement("p",{className:"mt-3"},e)))}},{key:"render",value:function(){var e=this.state,t=e.isReady,n=e.message;if(!t)return r.a.createElement("div",null);if(n)return n===this.props.t("ui.loggedOut")?this.renderLogoutScreen():this.renderLoadingScreen(n);var a=this.props.action;switch(a){case T:case A:return this.renderLoadingScreen(this.props.t("ui.loggingOut"));case U:return this.renderLogoutScreen();default:throw new Error("Invalid action '".concat(a,"'"))}}},{key:"logout",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={returnUrl:t},e.next=3,W.isAuthenticated();case 3:if(!e.sent){e.next=20;break}return e.next=7,W.signOut(n);case 7:a=e.sent,e.t0=a.status,e.next=e.t0===B.Redirect?11:e.t0===B.Success?12:e.t0===B.Fail?15:17;break;case 11:return e.abrupt("break",18);case 12:return e.next=14,this.navigateToReturnUrl(t);case 14:return e.abrupt("break",18);case 15:return this.setState({message:a.message}),e.abrupt("break",18);case 17:throw new Error("Invalid authentication result status.");case 18:e.next=21;break;case 20:this.setState({message:this.props.t("ui.loggedOut")});case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"processLogoutCallback",value:function(){var e=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,e.next=3,W.completeSignOut(t);case 3:n=e.sent,e.t0=n.status,e.next=e.t0===B.Redirect?7:e.t0===B.Success?8:e.t0===B.Fail?11:13;break;case 7:throw new Error("Should not redirect.");case 8:return e.next=10,this.navigateToReturnUrl(this.getReturnUrl(n.state));case 10:return e.abrupt("break",14);case 11:return this.setState({message:n.message}),e.abrupt("break",14);case 13:throw new Error("Invalid authentication result status.");case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"populateAuthenticationState",value:function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.isAuthenticated();case 2:t=e.sent,this.setState({isReady:!0,authenticated:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReturnUrl",value:function(e){var t=new URLSearchParams(window.location.search).get(C);if(t&&!t.startsWith("".concat(window.location.origin,"/")))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||"".concat(window.location.origin).concat(M.LoggedOut)}},{key:"navigateToReturnUrl",value:function(e){return window.location.replace(e)}}]),n}(a.Component),kt=Object(z.a)()(wt),Et=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(d.b,{path:M.Login,render:function(){return Ot(L)}}),r.a.createElement(d.b,{path:M.LoginFailed,render:function(){return Ot(N)}}),r.a.createElement(d.b,{path:M.LoginCallback,render:function(){return Ot(I)}}),r.a.createElement(d.b,{path:M.Register,render:function(){return Ot(F)}}),r.a.createElement(d.b,{path:M.LogOut,render:function(){return jt(T)}}),r.a.createElement(d.b,{path:M.LogOutCallback,render:function(){return jt(A)}}),r.a.createElement(d.b,{path:M.LoggedOut,render:function(){return jt(U)}}))}}]),n}(a.Component);function Ot(e){return r.a.createElement(xt,{action:e})}function jt(e){return r.a.createElement(kt,{action:e})}n(246),n(247);var St=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(Z,null,r.a.createElement(d.d,null,r.a.createElement(ht,{exact:!0,path:"/",component:ut}),r.a.createElement(ht,{path:"/administration",component:mt}),r.a.createElement(d.b,{path:M.ApiAuthorizationPrefix,component:Et})))}}]),n}(a.Component);St.displayName=St.name;var Pt=n(115),Ct=n(47),Rt=n(113),At=n(114),Tt=document.getElementsByTagName("base")[0].getAttribute("href"),Ut=document.getElementById("root"),Lt=X.supportedLanguages.find((function(e){return e.default}));Pt.a.use(Ct.e).init({resources:{en:{translation:Rt},bg:{translation:At}},lng:Lt.identifier,fallbackLng:Lt.identifier,interpolation:{escapeValue:!1}}),c.a.render(r.a.createElement(s.a,{basename:Tt},r.a.createElement(St,null),r.a.createElement(rt.a,null)),Ut)},34:function(e,t){e.exports={supportedLanguages:[{identifier:"en"},{identifier:"bg",default:!0}],uiColors:{success:"#d4ffdd",error:"#ffdee6",warning:"#faf8cd"}}},86:function(e,t){}},[[118,1,2]]]);
//# sourceMappingURL=main.27e7f5d9.chunk.js.map